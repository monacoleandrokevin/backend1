<div class="container my-5" data-cart-id="{{carrito._id}}">
  <h1 class="mb-4 text-primary">ðŸ›’ Carrito</h1>

  {{#if carrito.products.length}}
    <ul class="list-group mb-4">
      {{#each carrito.products}}
        <li
          class="list-group-item d-flex justify-content-between align-items-center"
        >
          <div>
            <strong>{{this.product.title}}</strong>
            - ${{this.product.price}}
            x
            {{this.quantity}}
            <div class="text-muted small">{{this.product.description}}</div>
          </div>
          <div>
            <span class="badge bg-secondary me-3">
              Subtotal: ${{this.subtotal}}
            </span>
            <button
              class="btn btn-sm btn-danger"
              data-pid="{{this.product._id}}"
            >
              ðŸ—‘
            </button>
          </div>
        </li>
      {{/each}}
    </ul>

    <div class="d-flex justify-content-between align-items-center mb-3">
      <button id="vaciarCarritoBtn" class="btn btn-outline-danger">
        ðŸ§¹ Vaciar carrito
      </button>
      <div class="alert alert-success mb-0">
        <strong>Total: ${{carrito.total}}</strong>
      </div>
    </div>
  {{else}}
    <div class="alert alert-warning">El carrito estÃ¡ vacÃ­o</div>
  {{/if}}

  <a href="/products" class="btn btn-outline-primary mt-3">Volver a productos</a>
</div>

<script>
  window.cartId = "{{carrito._id}}";
</script>
<script src="/static/js/cart.js"></script>